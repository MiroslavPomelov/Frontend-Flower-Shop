# Специальная настройка для Timeweb Cloud

## Проблема
Timeweb Cloud использует свой собственный базовый образ и может игнорировать наш Dockerfile, используя команду `npm run dev` вместо `npm start`.

## Решение

### 1. В панели Timeweb Cloud

#### Настройки контейнера:
- **Имя**: flower-shop
- **Тип**: Docker Container
- **Источник**: Git Repository

#### Git настройки:
- **URL репозитория**: `https://github.com/your-username/Frontend-Flower-Shop.git`
- **Ветка**: `main` или `master`
- **Контекст сборки**: `flower-shop/` (ОБЯЗАТЕЛЬНО!)

#### Команды сборки:
- **Команда сборки**: `npm run build` (НЕ npm run dev!)
- **Команда запуска**: `npm start` (НЕ npm run dev!)

#### Переменные окружения:
```
NODE_ENV=production
PORT=3000
HOSTNAME=0.0.0.0
```

### 2. Если Timeweb игнорирует настройки

#### Вариант A: Использовать Dockerfile.timeweb
- Переименуйте `Dockerfile.timeweb` в `Dockerfile`
- Этот файл использует базовый образ Timeweb

#### Вариант B: Настройка через .timeweb файл
- Создайте файл `.timeweb` в корне проекта
- Укажите правильные команды

#### Вариант C: Ручная настройка в панели
- В разделе "Команды" явно укажите:
  - Build: `npm run build`
  - Start: `npm start`

### 3. Проверка настроек

#### В логах должно быть:
```
npm run build  # для сборки
npm start      # для запуска
```

#### НЕ должно быть:
```
npm run dev    # это development команда!
```

### 4. Альтернативные настройки

#### Если ничего не помогает:
1. Создайте новый контейнер
2. Выберите "Custom Dockerfile"
3. Укажите путь: `flower-shop/Dockerfile`
4. Установите команды вручную

#### Или используйте "Build from source":
- Укажите контекст: `flower-shop/`
- Команда сборки: `npm run build`
- Команда запуска: `npm start`

## Критически важные моменты

### ✅ ДОЛЖНО быть:
- Контекст сборки: `flower-shop/`
- Команда сборки: `npm run build`
- Команда запуска: `npm start`
- Порт: 3000
- NODE_ENV: production

### ❌ НЕ ДОЛЖНО быть:
- Контекст сборки: корень репозитория
- Команда: `npm run dev`
- NODE_ENV: development

## Проверка после настройки

1. Запустите сборку
2. Проверьте логи - должна быть команда `npm run build`
3. После сборки должна быть команда `npm start`
4. Приложение должно быть доступно на порту 3000

## Если проблема остается

1. Проверьте, что в контексте сборки указано `flower-shop/`
2. Убедитесь, что команды указаны правильно
3. Попробуйте создать новый контейнер
4. Обратитесь в поддержку Timeweb с описанием проблемы
